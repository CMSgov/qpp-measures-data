#!/usr/bin/env bash

# Note that this script was used to generate historical benchmarks for 2018
# and 2017 based on input files from CMS, but for 2019, the
# historical benchmarks are generated by calculate-deciles-lib.js in
# the qpp-submissions-api repo, then the result is exported to the /benchmarks
# directory in this repo.

# generate benchmarks
echo "generating new benchmarks JSON"
node scripts/benchmarks/merge-benchmark-data.js | tee benchmarks/2018.json

# validate benchmarks
echo "validating new benchmarks JSON"
cat benchmarks/2018.json | node scripts/validate-data.js benchmarks
